(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{78:function(e,t,c){},80:function(e,t,c){},83:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(16),s=c.n(a),r=c(56),i=c(25),j=c(6),o=c(8),l=Object(n.createContext)({favoriteCities:[],addFavoriteCity:function(){},deleteFavorite:function(){}}),d=c(114),h=(c(78),c(1)),b=function(e){var t=e.cities,c=e.clearCityList,a=Object(n.useContext)(l).addFavoriteCity;return Object(h.jsx)(d.a,{className:"city_list",children:t.map((function(e,t){return Object(h.jsxs)(d.a.Item,{action:!0,variant:"primary",onClick:function(){return function(e){a(e),c([])}(e)},children:[Object(h.jsx)("img",{src:"https://openweathermap.org/images/flags/".concat(e.country.toLowerCase(),".png"),alt:e.country}),e.name]},t)}))})},u=c(116),O=(c(80),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1];Object(n.useEffect)((function(){fetch("cities.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);return Object(h.jsxs)("div",{className:"search_block",children:[Object(h.jsx)("h4",{children:"Search city"}),Object(h.jsx)(u.a,{type:"input",onInput:function(e){var t=e.target.value;if(null!==t&&t.length>=3){var n=c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));o(n)}else i.length&&o([])},placeholder:"Enter 3 and more letters"}),i.length?Object(h.jsx)(b,{cities:i,clearCityList:o}):null]})}),x=c(115),f=c(69),m=c(98),p=c(99),y=c(100),v=c(101),g=c(102),w=(c(83),Object(o.f)((function(e){var t=e.city,c=e.history,a=Object(n.useState)(null),s=Object(j.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(!1),b=Object(j.a)(o,2),u=b[0],O=b[1],w=Object(n.useContext)(l).deleteFavorite;return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.name,"&units=metric&appid=e84bb2e916ce72d4f288bd3fe0526b6a")).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[t.name,u]),r?Object(h.jsxs)(x.a,{className:"favorite_card",border:"secondary",children:[Object(h.jsx)(x.a.Header,{as:"h5",children:r.name}),Object(h.jsxs)(x.a.Body,{children:[Object(h.jsx)(x.a.Text,{children:Object(h.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(r.weather[0].icon,".png"),alt:r.name})}),Object(h.jsx)(x.a.Text,{children:r.weather[0].description})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Temp: ",Math.round(r.main.temp),"\u2103"]}),Object(h.jsxs)(f.a,{children:["Humidity: ",r.main.humidity,"%"]}),Object(h.jsxs)(f.a,{children:["Pressure: ",r.main.pressure,"hPa"]})]}),Object(h.jsx)(x.a.Footer,{children:Object(h.jsxs)(m.a,{children:[Object(h.jsx)(p.a,{variant:"secondary",onClick:function(){return c.push("/forecast/".concat(r.name,"/").concat(r.coord.lat,"/").concat(r.coord.lon))},children:Object(h.jsx)(y.a,{})}),Object(h.jsx)(p.a,{variant:"secondary",onClick:function(){return O(!u)},children:Object(h.jsx)(v.a,{})}),Object(h.jsx)(p.a,{variant:"secondary",onClick:function(){return w(t)},children:Object(h.jsx)(g.a,{})})]})})]}):null}))),C=c(103),N=c(104),k=c(111),M=(c(86),function(){var e=Object(n.useContext)(l).favoriteCities;return e.length?Object(h.jsxs)(C.a,{className:"justify-content-center favorite_list",children:[Object(h.jsx)("h4",{children:"Favorite List"}),e.map((function(e,t){return Object(h.jsx)(N.a,{xs:10,sm:6,md:4,lg:3,children:Object(h.jsx)(w,{city:e})},t)}))]}):Object(h.jsx)(k.a,{variant:"danger",children:"Favorite city list is empty!"})}),S=Object(n.createContext)({modal:{show:!1,title:"",text:""},setModal:function(){}}),E=c(110),_=(c(87),function(){var e=Object(n.useContext)(S),t=e.modal,c=e.setModal;return Object(h.jsx)(E.a,{show:t.show,onHide:function(){return c({show:!1,title:"",text:""})},children:Object(h.jsxs)(k.a,{variant:"danger",onClose:function(){return c({show:!1,title:"",text:""})},dismissible:!0,className:"modal_alert",children:[Object(h.jsx)(k.a.Heading,{children:t.title}),Object(h.jsx)("p",{children:t.text})]})})}),F=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C.a,{children:Object(h.jsx)(N.a,{xs:{span:10,offset:1},md:{span:8,offset:2},children:Object(h.jsx)(O,{})})}),Object(h.jsx)(C.a,{children:Object(h.jsx)(N.a,{children:Object(h.jsx)(M,{})})}),Object(h.jsx)(_,{})]})},L=c(112),H=c(105),I=(c(88),function(e){var t,c=e.day;return Object(h.jsxs)(L.a.Item,{eventKey:c.dt,children:[Object(h.jsx)(L.a.Header,{children:Object(h.jsx)("span",{children:(t=c.dt,new Date(1e3*t).toLocaleString("en",{month:"long",weekday:"long",day:"numeric"}))})}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(c.weather[0].icon,".png"),alt:""}),c.weather[0].description,Object(h.jsxs)(H.a,{bordered:!0,size:"sm",responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{children:"Morning"}),Object(h.jsx)("th",{children:"Day"}),Object(h.jsx)("th",{children:"Evening"}),Object(h.jsx)("th",{children:"Night"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"TEMPERATURE"}),Object(h.jsxs)("td",{children:[Math.round(c.temp.morn),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.day),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.eve),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.night),"\u2103"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"FEELS LIKE"}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.morn),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.day),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.eve),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.night),"\u2103"]})]})]})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Humidity: ",c.humidity,"%"]}),Object(h.jsxs)(f.a,{children:["Pressure: ",c.pressure,"hPa"]})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Wind speed: ",c.wind_speed,"m/s"]}),Object(h.jsxs)(f.a,{children:["Chance of rain: ",c.rain?Math.round(c.rain):0,"%"]})]})]})]})}),P=c(106),A=(c(89),Object(o.f)((function(e){var t=e.match,c=Object(n.useState)(null),a=Object(j.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(!0),o=Object(j.a)(i,2),l=o[0],d=o[1],b=t.params,u=b.city,O=b.lat,x=b.lon;return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(O,"&lon=").concat(x,"&units=metric&appid=e84bb2e916ce72d4f288bd3fe0526b6a")).then((function(e){return e.json()})).then((function(e){r(e),d(!1)}))}),[O,x]),l?Object(h.jsxs)("div",{className:"forecast",children:[Object(h.jsx)(P.a,{animation:"border",variant:"secondary"}),Object(h.jsx)(P.a,{animation:"border",variant:"primary"}),Object(h.jsx)(P.a,{animation:"border",variant:"secondary"})]}):Object(h.jsxs)("div",{className:"forecast",children:[Object(h.jsx)("h1",{children:u}),Object(h.jsx)("h3",{children:"8-day forecast"}),Object(h.jsx)(L.a,{defaultActiveKey:s.daily[0].dt,children:s.daily.map((function(e,t){return Object(h.jsx)(I,{day:e},t)}))})]})}))),T=function(){return Object(h.jsx)(C.a,{children:Object(h.jsx)(N.a,{xs:12,md:{span:10,offset:1},xxl:{span:8,offset:2},children:Object(h.jsx)(A,{})})})},B=c(113),J=c(107),K=c(109),W=c(72),z=c(108),D=(c(90),function(){return Object(h.jsx)(C.a,{children:Object(h.jsx)(N.a,{children:Object(h.jsx)(B.a,{className:"header",bg:"primary",variant:"dark",children:Object(h.jsxs)(J.a,{fluid:!0,children:[Object(h.jsx)(r.b,{to:"/",children:Object(h.jsxs)(B.a.Brand,{children:[Object(h.jsx)("img",{src:"/weather_app/logo.svg",width:"30",height:"30",className:"d-inline-block align-top logo",alt:"logo"}),"Weather App"]})}),Object(h.jsx)(B.a.Collapse,{className:"justify-content-end",children:Object(h.jsx)(K.a,{trigger:"click",placement:"left",overlay:Object(h.jsxs)(W.a,{id:"popover-basic",children:[Object(h.jsx)(W.a.Header,{as:"h3",children:"About App"}),Object(h.jsxs)(W.a.Body,{children:["This is a test app based on ",Object(h.jsx)("strong",{children:"OpenWeather API"}),". You can type the city name and see today's forecast or click the calendar button to see 8-day weather forecast for chosen city."]})]}),children:Object(h.jsxs)(p.a,{className:"about",variant:"secondary",children:[Object(h.jsx)(z.a,{className:"icon",size:22}),Object(h.jsx)("span",{children:"Help"})]})})})]})})})})});c(91);var R=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)({show:!1,title:"",text:""}),r=Object(j.a)(s,2),d=r[0],b=r[1],u=function(e){a(e),localStorage.setItem("favoriteCities",JSON.stringify(e))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));null!==e&&a(e)}),[]),Object(h.jsxs)(J.a,{className:"App",fluid:!0,children:[Object(h.jsx)(D,{}),Object(h.jsx)(l.Provider,{value:{favoriteCities:c,addFavoriteCity:function(e){c.filter((function(t){return t.name===e.name&&t.lat===e.lat})).length?b({show:!0,title:"Error!",text:"City already in favorite list!"}):u([].concat(Object(i.a)(c),[e]))},deleteFavorite:function(e){var t=c.filter((function(t){return t.name!==e.name&&t.lat!==e.lat}));u(t)}},children:Object(h.jsx)(S.Provider,{value:{modal:d,setModal:b},children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:F}),Object(h.jsx)(o.a,{path:"/forecast/:city/:lat/:lon",component:T})]})})})]})};c(92);s.a.render(Object(h.jsx)(r.a,{basename:"/weather_app",children:Object(h.jsx)(R,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.8ee8a43d.chunk.js.map