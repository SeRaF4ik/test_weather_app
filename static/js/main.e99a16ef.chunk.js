(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(19),r=c.n(a),s=c(69),i=c(24),j=c(6),o=c(9),l=Object(n.createContext)({favoriteCities:[],addFavoriteCity:function(){},deleteFavorite:function(){}}),d=c(127),h=(c(91),c(1)),b=function(e){var t=e.cities,c=e.clearCityList,a=Object(n.useContext)(l).addFavoriteCity;return Object(h.jsx)(d.a,{className:"city_list",children:t.map((function(e,t){return Object(h.jsxs)(d.a.Item,{action:!0,variant:"primary",onClick:function(){return function(e){a(e),c([])}(e)},children:[Object(h.jsx)("img",{src:"https://openweathermap.org/images/flags/".concat(e.country.toLowerCase(),".png"),alt:e.country}),e.name]},t)}))})},u=c(128),O=(c(93),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1];Object(n.useEffect)((function(){fetch("cities.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);return Object(h.jsxs)("div",{className:"search_block",children:[Object(h.jsx)("h4",{children:"Search city"}),Object(h.jsx)(u.a,{type:"input",onInput:function(e){var t=e.target.value;if(null!==t&&t.length>=3){var n=c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));o(n)}else i.length&&o([])},placeholder:"Enter 3 and more letters"}),i.length?Object(h.jsx)(b,{cities:i,clearCityList:o}):null]})}),x=c(126),f=c(83),p=c(110),m=c(111),v=c(112),y=c(113),g=c(114),w=c(62),C=(c(97),Object(o.f)((function(e){var t=e.city,c=e.history,a=Object(n.useState)(null),r=Object(j.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(!1),b=Object(j.a)(o,2),u=b[0],O=b[1],C=Object(n.useContext)(l).deleteFavorite;return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.name,"&units=metric&appid=").concat(w.a)).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[t.name,u]),s?Object(h.jsxs)(x.a,{className:"favorite_card",border:"secondary",children:[Object(h.jsx)(x.a.Header,{as:"h5",children:s.name}),Object(h.jsxs)(x.a.Body,{children:[Object(h.jsx)(x.a.Text,{children:Object(h.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(s.weather[0].icon,".png"),alt:s.name})}),Object(h.jsx)(x.a.Text,{children:s.weather[0].description})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Temp: ",Math.round(s.main.temp),"\u2103"]}),Object(h.jsxs)(f.a,{children:["Humidity: ",s.main.humidity,"%"]}),Object(h.jsxs)(f.a,{children:["Pressure: ",s.main.pressure,"hPa"]})]}),Object(h.jsx)(x.a.Footer,{children:Object(h.jsxs)(p.a,{children:[Object(h.jsx)(m.a,{variant:"secondary",onClick:function(){return c.push("/forecast/".concat(s.name,"/").concat(s.coord.lat,"/").concat(s.coord.lon))},children:Object(h.jsx)(v.a,{})}),Object(h.jsx)(m.a,{variant:"secondary",onClick:function(){return O(!u)},children:Object(h.jsx)(y.a,{})}),Object(h.jsx)(m.a,{variant:"secondary",onClick:function(){return C(t)},children:Object(h.jsx)(g.a,{})})]})})]}):null}))),_=c(115),E=c(116),S=c(123),N=(c(100),function(){var e=Object(n.useContext)(l).favoriteCities;return e.length?Object(h.jsxs)(_.a,{className:"justify-content-center favorite_list",children:[Object(h.jsx)("h4",{children:"Favorite List"}),e.map((function(e,t){return Object(h.jsx)(E.a,{xs:10,sm:6,md:4,lg:3,children:Object(h.jsx)(C,{city:e})},t)}))]}):Object(h.jsx)(S.a,{variant:"danger",children:"Favorite city list is empty!"})}),A=Object(n.createContext)({modal:{show:!1,title:"",text:""},setModal:function(){}}),P=c(125),T=(c(101),function(){var e=Object(n.useContext)(A),t=e.modal,c=e.setModal;return Object(h.jsx)(P.a,{show:t.show,onHide:function(){return c({show:!1,title:"",text:""})},children:Object(h.jsxs)(S.a,{variant:"danger",onClose:function(){return c({show:!1,title:"",text:""})},dismissible:!0,className:"modal_alert",children:[Object(h.jsx)(S.a.Heading,{children:t.title}),Object(h.jsx)("p",{children:t.text})]})})}),k=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_.a,{children:Object(h.jsx)(E.a,{xs:{span:10,offset:1},md:{span:8,offset:2},children:Object(h.jsx)(O,{})})}),Object(h.jsx)(_.a,{children:Object(h.jsx)(E.a,{children:Object(h.jsx)(N,{})})}),Object(h.jsx)(T,{})]})},M=c(124),F=c(117),H=(c(102),function(e){var t,c=e.day;return Object(h.jsxs)(M.a.Item,{eventKey:c.dt,children:[Object(h.jsx)(M.a.Header,{children:Object(h.jsx)("span",{children:(t=c.dt,new Date(1e3*t).toLocaleString("en",{month:"long",weekday:"long",day:"numeric"}))})}),Object(h.jsxs)(M.a.Body,{children:[Object(h.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(c.weather[0].icon,".png"),alt:""}),c.weather[0].description,Object(h.jsxs)(F.a,{bordered:!0,size:"sm",responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{children:"Morning"}),Object(h.jsx)("th",{children:"Day"}),Object(h.jsx)("th",{children:"Evening"}),Object(h.jsx)("th",{children:"Night"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"TEMPERATURE"}),Object(h.jsxs)("td",{children:[Math.round(c.temp.morn),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.day),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.eve),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.temp.night),"\u2103"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"FEELS LIKE"}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.morn),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.day),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.eve),"\u2103"]}),Object(h.jsxs)("td",{children:[Math.round(c.feels_like.night),"\u2103"]})]})]})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Humidity: ",c.humidity,"%"]}),Object(h.jsxs)(f.a,{children:["Pressure: ",c.pressure,"hPa"]})]}),Object(h.jsxs)(d.a,{className:"list-group-flush",children:[Object(h.jsxs)(f.a,{children:["Wind speed: ",c.wind_speed,"m/s"]}),Object(h.jsxs)(f.a,{children:["Chance of rain: ",c.rain?Math.round(c.rain):0,"%"]})]})]})]})}),I=c(118),L=(c(103),Object(o.f)((function(e){var t=e.match,c=Object(n.useState)(null),a=Object(j.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(!0),o=Object(j.a)(i,2),l=o[0],d=o[1],b=t.params,u=b.city,O=b.lat,x=b.lon;return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(O,"&lon=").concat(x,"&units=metric&appid=").concat(w.a)).then((function(e){return e.json()})).then((function(e){s(e),d(!1)}))}),[O,x]),l?Object(h.jsxs)("div",{className:"forecast",children:[Object(h.jsx)(I.a,{animation:"border",variant:"secondary"}),Object(h.jsx)(I.a,{animation:"border",variant:"primary"}),Object(h.jsx)(I.a,{animation:"border",variant:"secondary"})]}):Object(h.jsxs)("div",{className:"forecast",children:[Object(h.jsx)("h1",{children:u}),Object(h.jsx)("h3",{children:"8-day forecast"}),Object(h.jsx)(M.a,{defaultActiveKey:r.daily[0].dt,children:r.daily.map((function(e,t){return Object(h.jsx)(H,{day:e},t)}))})]})}))),R=function(){return Object(h.jsx)(_.a,{children:Object(h.jsx)(E.a,{xs:12,md:{span:10,offset:1},xxl:{span:8,offset:2},children:Object(h.jsx)(L,{})})})},K=c(122),W=c(119),B=c(121),D=c(85),J=c(120),U=(c(104),function(){return Object(h.jsx)(_.a,{children:Object(h.jsx)(E.a,{children:Object(h.jsx)(K.a,{className:"header",bg:"primary",variant:"dark",children:Object(h.jsxs)(W.a,{fluid:!0,children:[Object(h.jsx)(s.b,{to:"/",children:Object(h.jsxs)(K.a.Brand,{children:[Object(h.jsx)("img",{src:"/weather_app/logo.svg",width:"30",height:"30",className:"d-inline-block align-top logo",alt:"logo"}),"Weather App"]})}),Object(h.jsx)(K.a.Collapse,{className:"justify-content-end",children:Object(h.jsx)(B.a,{trigger:"click",placement:"left",overlay:Object(h.jsxs)(D.a,{id:"popover-basic",children:[Object(h.jsx)(D.a.Header,{as:"h3",children:"About App"}),Object(h.jsxs)(D.a.Body,{children:["This is a test app based on ",Object(h.jsx)("strong",{children:"OpenWeather API"}),". You can type the city name and see today's forecast or click the calendar button to see 8-day weather forecast for chosen city."]})]}),children:Object(h.jsxs)(m.a,{className:"about",variant:"secondary",children:[Object(h.jsx)(J.a,{className:"icon",size:22}),Object(h.jsx)("span",{children:"Help"})]})})})]})})})})});c(105);var Y=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({show:!1,title:"",text:""}),s=Object(j.a)(r,2),d=s[0],b=s[1],u=function(e){a(e),localStorage.setItem("favoriteCities",JSON.stringify(e))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));null!==e&&a(e)}),[]),Object(h.jsxs)(W.a,{className:"App",fluid:!0,children:[Object(h.jsx)(U,{}),Object(h.jsx)(l.Provider,{value:{favoriteCities:c,addFavoriteCity:function(e){c.filter((function(t){return t.name===e.name&&t.lat===e.lat})).length?b({show:!0,title:"Error!",text:"City already in favorite list!"}):u([].concat(Object(i.a)(c),[e]))},deleteFavorite:function(e){var t=c.filter((function(t){return t.name!==e.name&&t.lat!==e.lat}));u(t)}},children:Object(h.jsx)(A.Provider,{value:{modal:d,setModal:b},children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:k}),Object(h.jsx)(o.a,{path:"/forecast/:city/:lat/:lon",component:R})]})})})]})};c(106);r.a.render(Object(h.jsx)(s.a,{basename:"/weather_app",children:Object(h.jsx)(Y,{})}),document.getElementById("root"))},62:function(e,t,c){"use strict";(function(e){var n,a;c.d(t,"a",(function(){return r}));var r=(null===(n=e)||void 0===n||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"/weather_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"e84bb2e916ce72d4f288bd3fe0526b6a"}))||void 0===a?void 0:a.REACT_APP_WEATHER_API_KEY)||""}).call(this,c(96))},91:function(e,t,c){},93:function(e,t,c){},97:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.e99a16ef.chunk.js.map